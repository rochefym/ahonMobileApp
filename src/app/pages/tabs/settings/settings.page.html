<ion-header [translucent]="true">
  <ion-toolbar>
     <ion-title>
        <ion-icon name="settings-outline" class="settings-icon"></ion-icon>
        Settings
      </ion-title>
      <ion-buttons slot="end">
      <ion-button (click)="refreshImage()">
        <ion-icon name="refresh"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="settings-content">
     <div class="image-container">
    
    <!-- Loading spinner -->
    <div *ngIf="isLoading" class="loading-container">
      <ion-spinner></ion-spinner>
      <p>Loading image...</p>
    </div>
    
    <!-- Error message -->
    <ion-card *ngIf="error && !isLoading" color="danger">
      <ion-card-content>
        <ion-icon name="alert-circle"></ion-icon>
        {{ error }}
      </ion-card-content>
    </ion-card>
    
    <!-- Image display -->
    <img 
      *ngIf="imageUrl && !isLoading && !error" 
      [src]="imageUrl" 
      alt="Current Image"
      class="main-image"
      (error)="error = 'Failed to display image'"
      (load)="error = ''"
    />
    
    <!-- Refresh button -->
    <ion-button 
      *ngIf="!isLoading" 
      expand="block" 
      (click)="refreshImage()"
      class="refresh-button">
      <ion-icon name="refresh" slot="start"></ion-icon>
      Refresh Image
    </ion-button>

    <img 
        [src]="currentImageUrl" 
        alt="Live stream" />
    
  </div>
</ion-content>
