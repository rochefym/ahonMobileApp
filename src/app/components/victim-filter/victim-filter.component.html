<div class="filter-container">
      <div class="filter-header" (click)="toggleCollapse()">
        <h3>Filter Victims</h3>
        <ion-icon 
          [name]="isCollapsed ? 'chevron-down-outline' : 'chevron-up-outline'" 
          class="collapse-icon">
        </ion-icon>
      </div>

      <div class="filter-content" [class.collapsed]="isCollapsed">
        <div class="filter-options">
          <div class="filter-option" 
               [class.selected]="selectedFilter === 'all'"
               (click)="selectFilter('all')">
            <ion-icon name="people-outline" class="filter-icon"></ion-icon>
            <div class="filter-content">
              <span class="filter-label">All Victims</span>
              <span class="filter-count" *ngIf="allVictimsCount">{{ allVictimsCount }}</span>
            </div>
          </div>

          <div class="filter-option" 
               [class.selected]="selectedFilter === 'detection'"
               (click)="selectFilter('detection')">
            <ion-icon name="scan-outline" class="filter-icon"></ion-icon>
            <div class="filter-content">
              <span class="filter-label">By Detection</span>
              <span class="filter-count" *ngIf="detectionCount">{{ detectionCount }}</span>
            </div>
          </div>

          <!-- Additional filter options can be added here -->
          <div class="filter-option" 
               [class.selected]="selectedFilter === 'recent'"
               (click)="selectFilter('recent')">
            <ion-icon name="time-outline" class="filter-icon"></ion-icon>
            <div class="filter-content">
              <span class="filter-label">Recent</span>
              <span class="filter-count" *ngIf="recentCount">{{ recentCount }}</span>
            </div>
          </div>

          <div class="filter-option" 
               [class.selected]="selectedFilter === 'stable'"
               (click)="selectFilter('stable')">
            <ion-icon name="checkmark-circle-outline" class="filter-icon"></ion-icon>
            <div class="filter-content">
              <span class="filter-label">Stable</span>
              <span class="filter-count" *ngIf="stableCount">{{ stableCount }}</span>
            </div>
          </div>

          <div class="filter-option" 
               [class.selected]="selectedFilter === 'critical'"
               (click)="selectFilter('critical')">
            <ion-icon name="warning-outline" class="filter-icon"></ion-icon>
            <div class="filter-content">
              <span class="filter-label">Critical</span>
              <span class="filter-count" *ngIf="criticalCount">{{ criticalCount }}</span>
            </div>
          </div>
        </div>

        <!-- Search Bar -->
        <div class="search-section">
          <ion-searchbar 
            [(ngModel)]="searchTerm"
            (ionInput)="onSearchChange($event)"
            placeholder="Search victims..."
            class="victim-search"
            show-clear-button="focus">
          </ion-searchbar>
        </div>
      </div>
    </div>